{% extends 'base.html.twig'%}
{% block stylesheets %}
<style>
 table {
            width: 90%; /* Remplir toute la largeur disponible */
            border-collapse: collapse; /* Supprimer l'espace entre les bordures des cellules */
            margin: 20px auto; /* Marge autour du tableau et centr√© */
            padding-right: 10px;
            padding-left: 10px; /* Padding √† droite du tableau */
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); /* Ombre discr√®te autour du tableau */
            border-radius: 8px; /* Bords arrondis pour un effet plus moderne */
            background-color: #fff; /* Fond du tableau blanc pour le contraste */
        }

 th, td {
            padding: 15px 20px; /* Espacement autour du texte */
            text-align: center; /* Centrer le texte dans les cellules */
            border: 1px solid #ddd; /* Bordure fine et discr√®te autour des cellules */
            font-family: 'Arial', sans-serif; /* Police moderne */
            font-size: 1rem; /* Taille de texte uniforme */
        }

 th {
            background-color: #e3d8c8; /* Couleur de fond plus moderne pour les en-t√™tes */
            color: white; /* Texte blanc dans les en-t√™tes */
            font-weight: bold; /* En-t√™tes en gras */
            text-transform: uppercase; /* Majuscules pour les en-t√™tes */
        }

tbody tr:hover {
            background-color: #f1f1f1; 
            transition: background-color 0.3s ease; 
        }

tbody tr:nth-child(odd) {
      background-color: #f9f9f9; 
}
tbody tr:nth-child(even) {
      background-color: #ffffff; }

form {
    margin-bottom: 20px;
    display: flex;
    justify-content: center; 
    gap: 10px; 
}
input[type="text"] {
    padding: 8px;
    width: 250px; /* Largeur du champ de recherche */
    border: 1px solid #ccc;
    border-radius: 4px; /* Coins arrondis */
}
button {
    padding: 8px 15px;
    background-color: #007bff;
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
}
.pagination {
    display: flex;
    justify-content: center;
    margin-top: 20px;
}
.pagination .pagination {
    margin: 0;
}


</style>
{% endblock %}


{% block body %}
{% set currentSort = app.request.get('sort') %}
{% set currentDirection = app.request.get('direction') %}
<br><br><br>

 <form  data-turbo="false" method="get" action="{{ path('app_reservations') }}">
    <input type="text" name="nom" placeholder="Nom" value="{{ app.request.get('nom') }}">
    <input type="text" name="prenom" placeholder="Pr√©nom" value="{{ app.request.get('prenom') }}">
    <input type="date" name="date" value="{{ app.request.get('orderDate') }}">
    <button type="submit">üîç Rechercher</button>
    <a href="{{ path('app_reservations') }}">‚Ü∫ R√©initialiser</a>
     
    <a href="{{ path('app_reservations', app.request.query.all | merge({
      sort: 'r.nom',
      direction: currentSort == 'r.nom' and currentDirection == 'asc' ? 'desc' : 'asc'
      })) }}">
      trier selon Nom 
      {% if currentSort == 'r.nom' %}
        {{ currentDirection == 'asc' ? 'üîº' : 'üîΩ' }}
       {% endif %}
    </a>


</form>


   <a href="{{ path('app_reservation_add') }}" >‚ûï Ajouter une r√©servation</a> 
   <a href="{{ path('app_servicereservation_add') }}" >‚ûï Ajouter un service</a>
    <table>
        <thead>
            <tr>
                <th>Date</th>
                <th>Nom</th>
                <th>Pr√©nom</th>
                <th>T√©l√©phone</th>
                <th>Email</th>
                <th>Places</th>
                <th>Actions</th>
                <th></th>
            </tr>
        </thead>
        <tbody>
        {% for reservation in pagination.items %}
            <tr>
                <td>{{ reservation.orderDate|date('Y-m-d') }}</td>
                <td>{{ reservation.nom }}</td>
                <td>{{ reservation.prenom }}</td>
                <td>{{ reservation.phone }}</td>
                <td>{{ reservation.email }}</td>
                <td>{{ reservation.places }}</td>
               <td>
                 <form method="post"  data-turbo="false" action="{{ path('app_reservation_delete', {id_reservation: reservation.id_reservation}) }}" onsubmit="return confirm('√ätes-vous s√ªr de vouloir supprimer cette r√©servation ?');" >
                 <input type="hidden" name="_token" value="{{ csrf_token('delete' ~ reservation.id_reservation) }}">
                 <button class="btn btn-danger">üóë</button>
                 </form>
                 </td>
                <td>
                   <button class="btn btn-success"> <a href="{{ path('app_reservation_edit', {id_reservation: reservation.id_reservation}) }}">‚úèÔ∏è </a></button>
                </td>
              
            </tr>
        {% else %}
            <tr>
                <td colspan="6">Aucune r√©servation trouv√©e.</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>

<div class="pagination">
    {{ knp_pagination_render(pagination, 'pagination/bootstrap5.html.twig') }}
</div>


<br><br><br><br><br><br><br><br><br><br>
{% endblock %}
