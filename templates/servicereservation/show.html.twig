{% extends 'base.html.twig'%}
{% block stylesheets %}
<style>
 table {
            width: 90%; /* Remplir toute la largeur disponible */
            border-collapse: collapse; /* Supprimer l'espace entre les bordures des cellules */
            margin: 20px auto; /* Marge autour du tableau et centr√© */
            padding-right: 10px;
            padding-left: 10px; /* Padding √† droite du tableau */
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); /* Ombre discr√®te autour du tableau */
            border-radius: 8px; /* Bords arrondis pour un effet plus moderne */
            background-color: #fff; /* Fond du tableau blanc pour le contraste */
        }

 th, td {
            padding: 15px 20px; /* Espacement autour du texte */
            text-align: center; /* Centrer le texte dans les cellules */
            border: 1px solid #ddd; /* Bordure fine et discr√®te autour des cellules */
            font-family: 'Arial', sans-serif; /* Police moderne */
            font-size: 1rem; /* Taille de texte uniforme */
        }

 th {
            background-color: #e3d8c8; /* Couleur de fond plus moderne pour les en-t√™tes */
            color: white; /* Texte blanc dans les en-t√™tes */
            font-weight: bold; /* En-t√™tes en gras */
            text-transform: uppercase; /* Majuscules pour les en-t√™tes */
        }

tbody tr:hover {
            background-color: #f1f1f1; 
            transition: background-color 0.3s ease; 
        }

tbody tr:nth-child(odd) {
      background-color: #f9f9f9; 
}
tbody tr:nth-child(even) {
      background-color: #ffffff; }

form {
    margin-bottom: 20px;
    display: flex;
    justify-content: center; 
    gap: 10px; 
}
input[type="text"] {
    padding: 8px;
    width: 250px; /* Largeur du champ de recherche */
    border: 1px solid #ccc;
    border-radius: 4px; /* Coins arrondis */
}
button {
    padding: 8px 15px;
    background-color: #007bff;
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
}
.pagination {
    display: flex;
    justify-content: center;
    margin-top: 20px;
}
.pagination .pagination {
    margin: 0;
}


</style>
{% endblock %}


{% block body %}
<br><br><br>

 <form id="service-search-form" method="get" action="{{ path('app_servicereservations') }}" data-turbo="false">
    <input type="text" name="service" placeholder="Rechercher par service" value="{{ app.request.get('service') }}">
 </form>

    <table>
        <thead>
            <tr>
                <th>Service</th>
                <th>Description</th>
                <th>Actions</th>
                <th></th>
            </tr>
        </thead>
        <tbody>
        {% for servicereservation in pagination.items %}
            <tr>
                <td>{{ servicereservation.service }}</td>
                <td>{{ servicereservation.description }}</td>


               <td>
                 <form method="post" data-turbo="false" 
      action="{{ path('app_servicereservation_delete', {id_servicereservation: servicereservation.getIdServicereservation()}) }}" 
      onsubmit="return confirm('√ätes-vous s√ªr de vouloir supprimer ce service ?');">
    <input type="hidden" name="_token" value="{{ csrf_token('delete' ~ servicereservation.getIdServicereservation()) }}">
    <button class="btn btn-danger">üóë</button>
</form>

                 </td>
                <td><button class="btn btn-success">
    <a href="{{ path('app_servicereservation_edit', {id_servicereservation: servicereservation.getIdServicereservation()}) }}">‚úèÔ∏è</a>
</button><td>
              
            </tr>
        {% else %}
            <tr>
                <td colspan="6">Aucun service trouv√©.</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>

<div class="pagination">
    {{ knp_pagination_render(pagination, 'pagination/bootstrap5.html.twig') }}
</div>

<br><br><br><br><br><br><br><br><br><br>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        const form = document.getElementById("service-search-form");
        const input = form.querySelector('[name="service"]');

        if (input) {
            input.addEventListener("input", () => {
                clearTimeout(input._timeout);
                input._timeout = setTimeout(() => {
                    form.submit();
                }, 400); 
            });
        }
    });
</script>

{% endblock %}
